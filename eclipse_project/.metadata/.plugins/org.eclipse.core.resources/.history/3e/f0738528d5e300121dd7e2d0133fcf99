/*
 * boot_message.c
 *
 * Created: 20.01.2013 19:05:46
 *  Author: Олексій
 */ 
#include "pictures.h"
#include <math.h>
bootMessage() {
	nlcd_Clear();
	for (int i=0; i<17; i++){
		nlcd_Pict(0,0,boot_image[i]);
	}		
}

void printDigitals(char row, double val){
	char xPosition = POSITION_MAIN_IMAGE_SECOND_PART_X;
	char yPosition = POSITION_MAIN_IMAGE_SECOND_PART_Y_ROW1;
	if (row == 2) {
		yPosition= POSITION_MAIN_IMAGE_SECOND_PART_Y_ROW2;
	}
	
	char integerPart=val;
	double fractionalPart=val-integerPart;
	
	if (integerPart>=10) {
		char integerPartDigs[2];
		
		double buff=integerPart*0.1;
		integerPartDigs[1]=buff;
		integerPartDigs[0]=(buff-integerPartDigs[1])*10;
		
		char fractionalPartDigs=fractionalPart*10;
		
		nlcd_Pict(xPosition, yPosition, digitals[integerPartDigs[1]]);
		xPosition+=WIDTH_DIGITAL_IMAGE;
		
		nlcd_Pict(xPosition, yPosition, digitals[integerPartDigs[0]]);
		xPosition+=WIDTH_DIGITAL_IMAGE;
		
		nlcd_Pict(xPosition, yPosition, point);
		xPosition+=WIDTH_POINT_IMAGE;
		
		nlcd_Pict(xPosition, yPosition, digitals[fractionalPartDigs]);
	} else {
		char integerPartDigs = integerPart;
		
		char fractionalPartDigs[2];
		fractionalPart=fractionalPart*10;
		fractionalPartDigs[1]=fractionalPart;
		fractionalPartDigs[0]=(fractionalPart-fractionalPartDigs[1])*10;
		
		nlcd_Pict(xPosition, yPosition, digitals[integerPartDigs]);
		xPosition+=WIDTH_DIGITAL_IMAGE;
		
		nlcd_Pict(xPosition, yPosition, point);
		xPosition+=WIDTH_POINT_IMAGE;
		
		nlcd_Pict(xPosition, yPosition, digitals[fractionalPartDigs[1]]);
		xPosition+=WIDTH_DIGITAL_IMAGE;
		
		nlcd_Pict(xPosition, yPosition, digitals[fractionalPartDigs[0]]);
	}
		
}

//print template of main image (i=.....A; U=...V)
void printMainImageTemplate() {
	nlcd_Pict(POSITION_MAIN_IMAGE_FIRST_PART_X, POSITION_MAIN_IMAGE_FIRST_PART_Y, main_image_first_part);
	nlcd_Pict(POSITION_MAIN_IMAGE_THIRD_PART_X, POSITION_MAIN_IMAGE_THIRD_PART_Y, main_image_third_part);
}

void printBattaryImage(char val) {
	nlcd_Pict(POSITION_BATTERY_IMAGE_X, POSITION_MAIN_BATTERY_IMAGE_Y, battery_image[val]);
}
